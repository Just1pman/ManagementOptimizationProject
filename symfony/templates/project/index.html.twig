{% extends 'base.html.twig' %}

{% block title %}Project index{% endblock %}

{% block content %}
    <div class="container">
        {# <div class="row flex-wrap"> #}
        {# {% for project in projects %} #}
        {# <a class="card col-md-3 mb-2" href="{{ path('project_show', {'id': project.id}) }}"> #}
        {# <div class=""> #}
        {# <div class="card-body"> #}
        {# <h5 class="card-title">{{ project.internalTitle }}</h5> #}
        {# <h6 class="card-subtitle mb-2 text-muted">{{ project.description }}</h6> #}
        {# <p class="card-text">{{ project.description }}</p> #}
        {# <a href="{{ path('project_edit', {'id': project.id}) }}">edit</a> #}
        {# </div> #}
        {# </div> #}
        {# </a> #}
        {# {% endfor %} #}
        {# </div> #}
        {% if is_granted('ROLE_ADMIN') %}
            <div class="my-3">
                <a class="btn btn-primary" href="{{ path('project_new') }}">Create new</a>
            </div>
        {% endif %}
        <div class="users--wrapper flex-wrap">
            {% for project in projects %}
                <div class="users-card card col-12 col-sm-6 col-md-4 col-lg-3 mb-2">
                    <div class="d-flex flex-column align-items-center text-center">

                        <img src="{{ asset('build/images/folder.png') }}" alt="Admin"
                             class=""
                             width="150">

                        <div class="mt-3">
                            <h4>{{ project.externalTitle }}</h4>
                            <p class="text-secondary mb-1 text-muted font-size-sm">
                                date start: {{ project.periodStart|date('d-m-Y') }}
                            </p>
                            <p class="text-muted font-size-sm">date end: {{ project.periodEnd|date('d-m-Y') }}</p>
                            {# <a class="card col-md-3 mb-2" href="{{ path('project_show', {'id': project.id}) }}"> #}
                            <a class="btn btn-dark" href="{{ path('project_show', {'id': project.id}) }}">show </a>
                            {% if is_granted('ROLE_MANAGER') %}
                                <a class="btn btn-success"
                                   href="{{ path('project_edit', {'id': project.id}) }}">edit</a>
                            {% endif %}
                        </div>

                    </div>
                </div>
            {% endfor %}
        </div>

        {# <tr> #}
        {# <td>{{ project.id }}</td> #}
        {# <td></td> #}
        {# <td>{{ project.externalTitle }}</td> #}
        {# <td>{{ project.periodStart ? project.periodStart|date('Y-m-d') : '' }}</td> #}
        {# <td>{{ project.periodEnd ? project.periodEnd|date('Y-m-d') : '' }}</td> #}
        {# <td></td> #}
        {# <td> #}
        {# {% for technologie in project.technologies %} #}
        {# {{ technologie.title }} #}
        {# {% endfor %} #}
        {# </td> #}

        {# <td> #}


        {# {% else %} #}
        {# <tr> #}
        {# <td colspan="7">no records found</td> #}
        {# </tr> #}


    </div>
{% endblock %}
